@model CategoryModel
@{
    ViewBag.Title = T("Admin.Catalog.Categories.EditCategoryDetails").Text;
}
@using (Html.BeginForm(null, null, FormMethod.Post, new { id = "category-form" }))
{
    <div class="section-header">
        <div class="title">
            @T("Admin.Catalog.Categories.EditCategoryDetails") - @Model.Name 
			<a href='@Url.Action("List")'>(@T("Admin.Catalog.Categories.BackToList"))</a>
        </div>
        <div class="options">
			@{ Html.RenderWidget("admin_button_toolbar_before"); }

			<button type="submit" name="preview" value="preview" onclick="javascript:openPopup('@Url.RouteUrl("Category", new { SeName = Model.SeName })', true); return false;" class="btn btn-secondary">
				<i class="fa fa-eye"></i>
				<span>@T("Admin.Common.Preview")</span>
			</button>
            <button type="submit" name="save" value="save" class="btn btn-warning">
				<i class="fa fa-check"></i>
				<span>@T("Admin.Common.Save")</span>
			</button>
            <button type="submit" name="save" value="save-continue" class="btn btn-secondary">
				<span>@T("Admin.Common.SaveContinue")</span>
			</button>
            <button type="button" id="category-delete" value="category-delete" class="btn btn-danger" data-toggle="modal" data-target="#DeleteCategoryModal">
                <i class="fa fa-trash-o"></i>
				<span>@T("Admin.Common.Delete")</span>
            </button>

			@{ Html.RenderWidget("admin_button_toolbar_after"); }
        </div>
    </div>

    Html.RenderPartial("_CreateOrUpdate", Model);
}

<div id="DeleteCategoryModal" class="modal hide fade" tabindex="-1">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">@T("Admin.Catalog.Categories.Delete.Caption")</h5>
				<button type="button" class="close" data-dismiss="modal"><span>×</span></button>
			</div>
			<div class="modal-body">

				<form id="DeleteCategoryForm" method="POST" action="@Url.Action("Delete", "Category")">
					<input type="hidden" name="id" value="@Model.Id" />

					<p>@T("Admin.Catalog.Categories.Delete.Hint")</p>

					<div class="form-check">
						<input type="radio" class="form-check-input" id="deleteType_1" name="deleteType" value="resetparent" checked="checked" />
						<label for="deleteType_1" class="form-check-label">
							@T("Admin.Catalog.Categories.Delete.ResetParentOfChilds")
						</label>
					</div>
					<div class="form-check mt-1">
						<input type="radio" class="form-check-input" id="deleteType_2" name="deleteType" value="deletechilds" />
						<label for="deleteType_2" class="form-check-label">
							@T("Admin.Catalog.Categories.Delete.DeleteChilds")
						</label>
					</div>
				</form>

			</div>
			<div class="modal-footer">
				<button class="btn btn-primary" data-dismiss="modal" onclick="$('#DeleteCategoryForm').submit();">
					<span>@T("Common.OK")</span>
				</button>
				<button class="btn btn-secondary" data-dismiss="modal">
					<span>@T("Common.Cancel")</span>
				</button>
			</div>
		</div>
	</div>
</div>
