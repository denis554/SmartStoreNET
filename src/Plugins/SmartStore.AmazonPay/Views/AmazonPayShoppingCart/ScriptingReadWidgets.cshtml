@model SmartStore.AmazonPay.Models.AmazonPayViewModel

<script type="text/javascript">
	window.onAmazonLoginReady = function () {
		try {
			amazon.Login.setClientId('@Html.Raw(Model.ClientId)');
		}
		catch (e) {
			console.log(e);
			alert(e);
		}
	};

	window.onAmazonPaymentsReady = function () {
		try {
			new OffAmazonPayments.Widgets.AddressBook({
				sellerId: '@Model.SellerId',
				amazonOrderReferenceId: '@Model.OrderReferenceId',
				displayMode: 'Read',
				design: {
					designMode: 'responsive',
					size: { width: '400px', height: '185px' }
				},
				onError: function (e) {
					alert(e.getErrorMessage() + ' (' + e.getErrorCode() + ')');
				}
			}).bind('@(Model.WidgetId)Address');
		}
		catch (e) {
			console.log(e);
			alert(e);
		}

		try {
			new OffAmazonPayments.Widgets.Wallet({
				sellerId: '@Model.SellerId',
				amazonOrderReferenceId: '@Model.OrderReferenceId',
				displayMode: 'Read',
				design: {
					designMode: 'responsive',
					size: { width: '400px', height: '185px' }
				},
				onError: function (e) {
					alert(e.getErrorMessage() + ' (' + e.getErrorCode() + ')');
				}
			}).bind('@(Model.WidgetId)Wallet');
		}
		catch (e) {
			console.log(e);
			alert(e);
		}
	};
</script>
<script async="async" src="@Html.Raw(Model.WidgetUrl)"></script>
